<?xml version="1.0" encoding="utf-8" ?>
<Page
    x:Class="Hurl.Selector.Pages.SelectorPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:controls="using:System.Windows.Controls"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="using:Hurl.Selector.Pages"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:models="using:Hurl.Selector.Models"
    mc:Ignorable="d">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="40" />
            <RowDefinition Height="1*" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <Grid>
            <TextBlock
                Padding="12,8"
                FontSize="16"
                Text="Select a browser" />
        </Grid>

        <ItemsRepeater Grid.Row="1" ItemsSource="{x:Bind ViewModel.Browsers, Mode=OneWay}">
            <ItemsRepeater.Layout>
                <UniformGridLayout
                    ItemsStretch="Uniform"
                    MinItemHeight="100"
                    MinItemWidth="100" />
            </ItemsRepeater.Layout>

            <ItemsRepeater.ItemTemplate>
                <DataTemplate x:DataType="models:Browser">
                    <AppBarButton
                        Command="{Binding ViewModel.LaunchBrowserCommand}"
                        CommandParameter="{x:Bind}"
                        Icon="World"
                        Label="{x:Bind Name, Mode=OneWay}" />
                </DataTemplate>
            </ItemsRepeater.ItemTemplate>
        </ItemsRepeater>

        <Border
            Grid.Row="2"
            Margin="4,8"
            Padding="4"
            HorizontalAlignment="Center"
            VerticalAlignment="Center"
            Background="{StaticResource AccentAcrylicBackgroundFillColorBaseBrush}"
            BorderBrush="{StaticResource ControlElevationBorderBrush}"
            BorderThickness="1.5"
            CornerRadius="6">
            <StackPanel Orientation="Horizontal" Spacing="4">
                <Button
                    Padding="6"
                    Background="{x:Null}"
                    BorderBrush="{x:Null}"
                    Click="LinkCopyBtnClick">
                    <Button.Content>
                        <FontIcon FontSize="18" Glyph="&#xE8C8;" />
                    </Button.Content>
                </Button>
                <TextBox
                    MinWidth="180"
                    MaxHeight="32"
                    Padding="6"
                    BorderBrush="{StaticResource ControlElevationBorderBrush}"
                    FontSize="12"
                    IsSpellCheckEnabled="False"
                    IsTextPredictionEnabled="False"
                    PlaceholderText="URL"
                    Text="{x:Bind ViewModel.Url, Mode=TwoWay}" />
                <AppBarSeparator />
                <DropDownButton Height="32">
                    <DropDownButton.Content>
                        <FontIcon FontSize="16" Glyph="&#xE700;" />
                    </DropDownButton.Content>
                    <DropDownButton.Flyout>
                        <MenuFlyout>
                            <MenuFlyoutItem
                                Click="Button_Click_1"
                                Tag="settings"
                                Text="Rules">
                                <MenuFlyoutItem.Icon>
                                    <FontIcon Glyph="&#xE710;" />
                                </MenuFlyoutItem.Icon>
                            </MenuFlyoutItem>
                            <MenuFlyoutItem
                                Click="SettingsBtnClick"
                                Tag="exit"
                                Text="Settings">
                                <MenuFlyoutItem.Icon>
                                    <FontIcon Glyph="&#xE713;" />
                                </MenuFlyoutItem.Icon>
                            </MenuFlyoutItem>
                            <MenuFlyoutSeparator />
                            <MenuFlyoutItem
                                Click="Button_Click"
                                Tag="reload"
                                Text="Timed">
                                <MenuFlyoutItem.Icon>
                                    <FontIcon Glyph="&#xE916;" />
                                </MenuFlyoutItem.Icon>
                            </MenuFlyoutItem>
                        </MenuFlyout>
                    </DropDownButton.Flyout>
                </DropDownButton>
            </StackPanel>
        </Border>

    </Grid>
</Page>
